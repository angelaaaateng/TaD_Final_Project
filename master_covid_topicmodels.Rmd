---
title: "COVID_TopicModel"
author: "Angela Teng"
date: "4/29/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Text as Data Final Project 
Lakshmi Menon, Angela Marie Teng

```{r include = FALSE}
# get current working directory
rm(list = ls())
getwd()  
# setwd("~/Data/articles")

# loading packages 
library(dplyr)
library(ggplot2)
library(xtable)

library(rvest)
library(dplyr)

# Loading multiple packages
libraries <- c("foreign", "stargazer")
lapply(libraries, require, character.only=TRUE)
set.seed(100)
library(quanteda)
library("devtools")
# install.packages("textreadr")
library(textreadr)

# Load it into our environment
library(quanteda.corpora)
# library(quanteda)
# install.packages("readtext")
library(readtext)
# install.packages("spacyr")
library(spacyr)

# to check version
packageVersion("quanteda")

```

Loading in all the articles from rev.com:
```{r data_load, echo =TRUE}
# temp = list.files(pattern="*.txt")
# myfiles = lapply(temp, read.delim)

## the read in of a directory
data = read_dir('/Users/angelateng/Desktop/Github_Files_Teng/TaD_Final_Project/Data/articles')

# list all csv files from the current directory
# list.files(pattern=".txt$") # use the pattern argument to define a common pattern  for import files with regex. Here: .csv
summary(data)
typeof(data)
```

Selecting only articles that contain keywords per country: 
UK - UK, [Boris] Johnson
US - US, Trump 
New Zealand - New Zealand, [Jacinda] Ardern
Australia - Australia, [Scott] Morrison
Canada - Canada, Trudeau
```{r subset_data, echo=TRUE}
# select(data$document, matches("trump"))
# data[,grepl("trump", colnames("document"))]
# data[document]
df <- data.frame(data)
df[1,1:2]

US_df <- df[grep(c("Trump|US|United States"), df$document),]
US_df
```

